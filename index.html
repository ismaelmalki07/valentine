<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sara üíñ</title>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    * { box-sizing: border-box; font-family: "Poppins", Arial, sans-serif; }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:22px;
      background:
        radial-gradient(900px 520px at 10% 10%, rgba(255,77,136,0.25), transparent 60%),
        radial-gradient(900px 520px at 90% 20%, rgba(255,173,206,0.28), transparent 55%),
        linear-gradient(135deg, #ffe3ee, #fff7fb);
    }

    .card{
      width:min(560px,95vw);
      background:rgba(255,255,255,0.9);
      border:1px solid rgba(255,120,170,0.18);
      border-radius:32px;
      padding:26px 22px 30px;
      text-align:center;
      box-shadow:0 30px 80px rgba(0,0,0,0.16);
      position:relative;
      overflow:hidden;
    }

    /* VIDEO PORTRAIT */
    .video-wrap{
      width:min(260px,88%);
      aspect-ratio:9/16;
      margin:0 auto 14px;
      border-radius:20px;
      overflow:hidden;
      box-shadow:0 16px 40px rgba(255,77,136,0.22);
      border:1px solid rgba(255,77,136,0.15);
      background:#000;
    }
    video{ width:100%; height:100%; object-fit:cover; display:block; }

    .emoji{ font-size:42px; margin:4px 0 10px; }

    h1{
      font-size:22px;
      margin:6px 0 14px;
      color:#2b2b2b;
    }

    /* ‚úÖ Zone blanche du bas (o√π le No peut bouger) */
    .playZone{
      position: relative;
      height: 170px;          /* <- zone visible sous le titre (ajuste si tu veux) */
      margin-top: 8px;
      border-radius: 22px;
    }

    /* boutons */
    #yesBtn{
      border:none;
      padding:14px 24px;
      border-radius:999px;
      font-size:16px;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
      background:linear-gradient(135deg,#ff4d88,#ff7bb0);
      color:white;
      box-shadow:0 14px 30px rgba(255,77,136,0.35);
      transition:transform .15s ease;
      position: absolute;
      left: 42px;
      bottom: 28px;
    }
    #yesBtn:hover{ transform:scale(1.07); }

    /* ‚úÖ No dans toute la zone */
    #noBtn{
      border:none;
      padding:14px 24px;
      border-radius:999px;
      font-size:16px;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
      background:rgba(120,120,120,0.15);
      color:rgba(0,0,0,0.65);
      border:1px solid rgba(0,0,0,0.08);
      position:absolute;
      right: 42px;
      bottom: 28px;
      transition:left .06s linear, top .06s linear; /* ‚úÖ plus vif */
      will-change: left, top;
    }

    .note{
      margin-top:12px;
      font-size:12.5px;
      color:rgba(0,0,0,0.55);
    }

    @media (max-width:420px){
      h1{ font-size:20px; }
      .video-wrap{ width:min(240px,92%); }
      .playZone{ height: 180px; }
    }
  </style>
</head>

<body>
  <div class="card" id="card">
    <div class="video-wrap">
      <video src="video.mp4" autoplay muted loop playsinline></video>
    </div>

    <div class="emoji">üíóüê£</div>

    <h1>Sara, will you be my Valentine? üíñ</h1>

    <!-- ‚úÖ Zone de jeu (cadre blanc bas) -->
    <div class="playZone" id="playZone">
      <button id="yesBtn">Yes üíñ</button>
      <button id="noBtn">No üôÉ</button>
    </div>

    <div class="note">*No is not an option (gentiment).* </div>
  </div>

  <script>
    const zone = document.getElementById("playZone");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");

    // ‚úÖ R√©glages
    const TRIGGER = 120;     // distance de d√©clenchement (plus grand = plus impossible)
    const JUMP = 110;        // "vif" : √† quel point il fuit d'un coup
    const PADDING = 12;      // marge pour rester visible

    function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }

    function moveNoAway(px, py){
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      // centre bouton
      const cx = b.left + b.width/2;
      const cy = b.top + b.height/2;

      // direction oppos√©e √† la souris
      let dx = cx - px;
      let dy = cy - py;
      const dist = Math.hypot(dx, dy) || 1;

      dx /= dist; dy /= dist;

      // position actuelle dans la zone
      const currentLeft = b.left - z.left;
      const currentTop  = b.top  - z.top;

      // nouvelle position "vif" (grand pas)
      let newLeft = currentLeft + dx * JUMP;
      let newTop  = currentTop  + dy * JUMP;

      // limites dans la zone
      const maxLeft = z.width - b.width - PADDING;
      const maxTop  = z.height - b.height - PADDING;

      newLeft = clamp(newLeft, PADDING, maxLeft);
      newTop  = clamp(newTop, PADDING, maxTop);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top  = newTop + "px";
      noBtn.style.right = "auto";
      noBtn.style.bottom = "auto";
    }

    // distance souris ‚Üí bouton
    function distanceToButton(e){
      const r = noBtn.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top  + r.height/2;
      return Math.hypot(e.clientX - cx, e.clientY - cy);
    }

    document.addEventListener("mousemove", (e) => {
      const d = distanceToButton(e);
      if (d < TRIGGER) moveNoAway(e.clientX, e.clientY);
    });

    // mobile
    document.addEventListener("touchstart", (e) => {
      const t = e.touches[0];
      moveNoAway(t.clientX, t.clientY);
    }, { passive: true });

    // confettis
    yesBtn.addEventListener("click", () => {
      const end = Date.now() + 3200;
      (function frame() {
        confetti({
          particleCount: 12,
          spread: 90,
          startVelocity: 30,
          colors: ["#ff4d88", "#ff7bb0", "#ffd1e2", "#ffffff"],
        });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    });
  </script>
</body>
</html>
